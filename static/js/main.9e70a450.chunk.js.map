{"version":3,"sources":["actions/search.js","reducers/search.js","actions/favourites.js","reducers/favourites.js","reducers/index.js","store.js","components/Header.js","components/ListItem.js","containers/ItemContainer.js","components/Favourites.js","components/Search.js","containers/SearchContainer.js","components/App.js","index.js"],"names":["FETCH_ERROR","SET_SEARCH_STRING","GET_DATA","SET_DATA","SET_SEARCH_RESULTS","setSearchResults","searchResultItems","type","filterData","searchString","items","separator","searchWords","trim","toLowerCase","split","isWordPresent","word","string","includes","filter","item","words","presentInTitle","every","title","presentInKeywords","keywords","some","keyword","filterItem","getResults","dispatch","getState","_getState$search","search","dataCache","length","fetch","then","response","json","data","catch","error","console","log","initialState","isFetching","isError","state","arguments","undefined","action","Object","assign","ADD_TO_FAVOURITES","REMOVE_FROM_FAVOURITES","favouritesItems","favourites","concat","toConsumableArray","combineReducers","preloadedState","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","withStyles","theme","grid","background","paddingTop","spacing","unit","paddingBottom","marginTop","marginBottom","font","color","fontWeight","_ref","classes","react_default","a","createElement","Grid_default","container","direction","justify","className","Typography_default","variant","align","icon","padding","marginRight","fav","notFav","sameRow","display","alignItems","isFav","addToFavourites","removeFromFavourites","xs","IconButton_default","onClick","e","StarRate_default","Parser","body","connect","ownProps","find","obj","ListItem","backgroundColor","gutterBottom","map","ItemContainer","key","button","maxWidth","maxHeight","minWidth","minHeight","&:hover","marginLeft","transform","height","width","form","setSearchString","onSubmit","preventDefault","TextField_default","fullWidth","value","onChange","target","Button_default","Search_default","components_Favourites","str","Search","App","react","CssBaseline_default","components_Header","SearchContainer","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.9e70a450.chunk.js","sourcesContent":["export const FETCH_ERROR = \"FETCH_ERROR\";\r\nexport const SET_SEARCH_STRING = \"SET_SEARCH_STRING\";\r\nexport const GET_DATA = \"GET_DATA\";\r\nexport const SET_DATA = \"SET_DATA\";\r\nexport const SET_SEARCH_RESULTS = \"SET_SEARCH_RESULTS\";\r\n\r\nexport function setSearchString(searchString) {\r\n\treturn {\r\n\t\ttype: SET_SEARCH_STRING,\r\n\t\tsearchString\r\n\t};\r\n}\r\n\r\nfunction fetchError() {\r\n\treturn { type: FETCH_ERROR };\r\n}\r\n\r\nfunction getData() {\r\n\treturn { type: GET_DATA };\r\n}\r\n\r\nfunction setData(data) {\r\n\treturn { type: SET_DATA, data };\r\n}\r\n\r\nexport function setSearchResults(searchResultItems) {\r\n\treturn {\r\n\t\ttype: SET_SEARCH_RESULTS,\r\n\t\tsearchResultItems\r\n\t};\r\n}\r\n\r\nconst filterData = (searchString, items) => {\r\n\tconst separator = /\\/| |\\(|\\)|-/;\r\n\r\n\tconst str = searchString.trim().toLowerCase();\r\n\tconst searchWords = str.split(separator);\r\n\r\n\tconst isWordPresent = (word, string) => {\r\n\t\treturn (\r\n\t\t\tword === \"\" ||\r\n\t\t\tstring\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.split(separator)\r\n\t\t\t\t.includes(word)\r\n\t\t);\r\n\t};\r\n\r\n\tconst filterItem = (words, item) => {\r\n\t\tconst presentInTitle = words.every(word =>\r\n\t\t\tisWordPresent(word, item.title)\r\n\t\t);\r\n\t\tconst presentInKeywords = item.keywords\r\n\t\t\t.split(\",\")\r\n\t\t\t.some(keyword => words.every(word => isWordPresent(word, keyword)));\r\n\t\treturn presentInTitle || presentInKeywords;\r\n\t};\r\n\r\n\treturn items.filter(item => filterItem(searchWords, item));\r\n};\r\n\r\nexport function getResults() {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { searchString, dataCache } = getState().search;\r\n\t\tif (searchString.trim() === \"\") dispatch(setSearchResults([]));\r\n\t\telse {\r\n\t\t\tif (dataCache.length === 0) {\r\n\t\t\t\tdispatch(getData());\r\n\t\t\t\treturn fetch(\r\n\t\t\t\t\t\"https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000\"\r\n\t\t\t\t)\r\n\t\t\t\t\t.then(response => response.json())\r\n\t\t\t\t\t.then(items => {\r\n\t\t\t\t\t\tdispatch(setData(items));\r\n\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\tsetSearchResults(filterData(searchString, items))\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tdispatch(fetchError());\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(setSearchResults(filterData(searchString, dataCache)));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","import {\r\n\tGET_DATA,\r\n\tSET_DATA,\r\n\tSET_SEARCH_STRING,\r\n\tSET_SEARCH_RESULTS,\r\n\tFETCH_ERROR\r\n} from \"../actions/search\";\r\n\r\nexport const initialState = {\r\n\tdataCache: [],\r\n\tsearchString: \"\",\r\n\tsearchResultItems: [],\r\n\tisFetching: false,\r\n\tisError: false\r\n};\r\n\r\nconst search = (state = initialState, action = {}) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_SEARCH_STRING:\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tsearchString: action.searchString\r\n\t\t\t});\r\n\t\tcase GET_DATA:\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tisFetching: true,\r\n\t\t\t\tisError: false\r\n\t\t\t});\r\n\t\tcase SET_DATA:\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tdataCache: action.data,\r\n\t\t\t\tisFetching: false,\r\n\t\t\t\tisError: false\r\n\t\t\t});\r\n\t\tcase SET_SEARCH_RESULTS:\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tsearchResultItems: action.searchResultItems\r\n\t\t\t});\r\n\t\tcase FETCH_ERROR:\r\n\t\t\treturn Object.assign({}, state, {\r\n\t\t\t\tdataCache: [],\r\n\t\t\t\tsearchResultItems: [],\r\n\t\t\t\tisFetching: false,\r\n\t\t\t\tisError: true\r\n\t\t\t});\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default search;\r\n","export const ADD_TO_FAVOURITES = \"ADD_TO_FAVOURITES\";\r\nexport const REMOVE_FROM_FAVOURITES = \"REMOVE_FROM_FAVOURITES\";\r\n\r\nexport function addToFavourites(item) {\r\n\treturn {\r\n\t\ttype: ADD_TO_FAVOURITES,\r\n\t\titem\r\n\t};\r\n}\r\n\r\nexport function removeFromFavourites(item) {\r\n\treturn {\r\n\t\ttype: REMOVE_FROM_FAVOURITES,\r\n\t\titem\r\n\t};\r\n}\r\n","import {\r\n\tADD_TO_FAVOURITES,\r\n\tREMOVE_FROM_FAVOURITES\r\n} from \"../actions/favourites\";\r\n\r\nexport const initialState = {\r\n\tfavouritesItems: []\r\n};\r\n\r\nconst favourites = (state = initialState, action = {}) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TO_FAVOURITES:\r\n\t\t\treturn {\r\n\t\t\t\tfavouritesItems: [...state.favouritesItems, action.item]\r\n\t\t\t};\r\n\t\tcase REMOVE_FROM_FAVOURITES:\r\n\t\t\treturn {\r\n\t\t\t\tfavouritesItems: state.favouritesItems.filter(\r\n\t\t\t\t\titem => item.title !== action.item.title\r\n\t\t\t\t)\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default favourites;\r\n","import { combineReducers } from \"redux\";\r\nimport search from \"./search\";\r\nimport favourites from \"./favourites\";\r\n\r\nexport default combineReducers({\r\n\tsearch,\r\n\tfavourites\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nfunction configureStore(preloadedState) {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tpreloadedState,\r\n\t\tapplyMiddleware(thunkMiddleware)\r\n\t);\r\n}\r\n\r\nconst store = configureStore();\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = theme => ({\r\n\tgrid: {\r\n\t\tbackground: \"linear-gradient(to right, #1d5895 , #22965e)\",\r\n\t\tpaddingTop: theme.spacing.unit * 5,\r\n\t\tpaddingBottom: theme.spacing.unit * 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\tmarginBottom: theme.spacing.unit\r\n\t},\r\n\tfont: {\r\n\t\tcolor: \"white\",\r\n\t\tfontWeight: \"bold\"\r\n\t}\r\n});\r\n\r\nconst Header = ({ classes, title }) => (\r\n\t<Grid\r\n\t\tcontainer\r\n\t\tdirection=\"column\"\r\n\t\tjustify=\"center\"\r\n\t\tclassName={classes.grid}\r\n\t>\r\n\t\t<Grid item>\r\n\t\t\t<Typography variant=\"h3\" align=\"center\" className={classes.font}>\r\n\t\t\t\t{title}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t</Grid>\r\n);\r\n\r\nHeader.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Header);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport StarIcon from \"@material-ui/icons/StarRate\";\r\nimport Parser from \"html-react-parser\";\r\n\r\nconst styles = theme => ({\r\n\ticon: {\r\n\t\tpadding: 0,\r\n\t\tmarginTop: \"12px\",\r\n\t\tmarginRight: \"6px\"\r\n\t},\r\n\ttitle: {\r\n\t\tmarginTop: \"16px\"\r\n\t},\r\n\tfav: {\r\n\t\tcolor: \"#23995c\"\r\n\t},\r\n\tnotFav: {\r\n\t\tcolor: \"#aaaaaa\"\r\n\t},\r\n\tsameRow: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"flex-start\"\r\n\t}\r\n});\r\n\r\nconst ListItem = ({\r\n\tclasses,\r\n\tisFav,\r\n\titem,\r\n\taddToFavourites,\r\n\tremoveFromFavourites\r\n}) => (\r\n\t<Grid\r\n\t\tcontainer\r\n\t\tdirection=\"row\"\r\n\t\tjustify=\"flex-start\"\r\n\t\talignItems=\"flex-start\"\r\n\t>\r\n\t\t<Grid item xs={5} className={classes.sameRow}>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={e =>\r\n\t\t\t\t\tisFav ? removeFromFavourites(item) : addToFavourites(item)\r\n\t\t\t\t}\r\n\t\t\t\tclassName={classes.icon}\r\n\t\t\t>\r\n\t\t\t\t<StarIcon className={isFav ? classes.fav : classes.notFav} />\r\n\t\t\t</IconButton>\r\n\t\t\t<div className={classes.title}>{item.title}</div>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={7}>\r\n\t\t\t{Parser(Parser(item.body))}\r\n\t\t</Grid>\r\n\t</Grid>\r\n);\r\n\r\nListItem.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tisFav: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n\taddToFavourites: PropTypes.func.isRequired,\r\n\tremoveFromFavourites: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ListItem);\r\n","import { connect } from \"react-redux\";\r\nimport ListItem from \"../components/ListItem\";\r\nimport { addToFavourites, removeFromFavourites } from \"../actions/favourites\";\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\tisFav:\r\n\t\townProps.isFav ||\r\n\t\tstate.favourites.favouritesItems.find(\r\n\t\t\tobj => obj.title === ownProps.item.title\r\n\t\t) !== undefined\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\taddToFavourites: item => dispatch(addToFavourites(item)),\r\n\tremoveFromFavourites: item => dispatch(removeFromFavourites(item))\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ListItem);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ItemContainer from \"../containers/ItemContainer\";\r\n\r\nconst styles = theme => ({\r\n\tcontainer: {\r\n\t\tbackgroundColor: \"#f7fefa\",\r\n\t\tpaddingTop: theme.spacing.unit * 2\r\n\t},\r\n\tfont: {\r\n\t\tcolor: \"#23995c\",\r\n\t\tfontWeight: \"900\"\r\n\t}\r\n});\r\n\r\nconst Favourites = ({ classes, favouritesItems }) => (\r\n\t<Grid\r\n\t\tcontainer\r\n\t\tdirection=\"row\"\r\n\t\tjustify=\"flex-start\"\r\n\t\talignItems=\"flex-start\"\r\n\t\tclassName={classes.container}\r\n\t>\r\n\t\t<Grid item xs={12}>\r\n\t\t\t<Typography variant=\"h5\" className={classes.font} gutterBottom>\r\n\t\t\t\tFavourites\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={12}>\r\n\t\t\t{favouritesItems.map(item => (\r\n\t\t\t\t<ItemContainer isFav={true} item={item} key={item.title} />\r\n\t\t\t))}\r\n\t\t</Grid>\r\n\t</Grid>\r\n);\r\n\r\nFavourites.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tfavouritesItems: PropTypes.array.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Favourites);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Favourites from \"./Favourites\";\r\nimport ItemContainer from \"../containers/ItemContainer\";\r\n\r\nconst styles = theme => ({\r\n\tgrid: {\r\n\t\tpadding: theme.spacing.unit * 2\r\n\t},\r\n\tbutton: {\r\n\t\tbackgroundColor: \"#23995c\",\r\n\t\tpadding: 0,\r\n\t\tmaxWidth: \"55px\",\r\n\t\tmaxHeight: \"55px\",\r\n\t\tminWidth: \"55px\",\r\n\t\tminHeight: \"55px\",\r\n\t\t\"&:hover\": {\r\n\t\t\tbackgroundColor: \"#23995c\"\r\n\t\t},\r\n\t\tmarginLeft: theme.spacing.unit * 2\r\n\t},\r\n\ticon: {\r\n\t\tcolor: \"white\",\r\n\t\ttransform: \"scale(-1, 1)\",\r\n\t\theight: \"50px\",\r\n\t\twidth: \"50px\"\r\n\t},\r\n\tform: {\r\n\t\tdisplay: \"flex\"\r\n\t}\r\n});\r\n\r\nconst Search = ({\r\n\tclasses,\r\n\tsearchString,\r\n\tsearchResultItems,\r\n\tisFetching,\r\n\tisError,\r\n\tsetSearchString,\r\n\tgetResults,\r\n\tfavouritesItems\r\n}) => (\r\n\t<Grid\r\n\t\tcontainer\r\n\t\tdirection=\"row\"\r\n\t\tjustify=\"center\"\r\n\t\talignItems=\"center\"\r\n\t\tclassName={classes.grid}\r\n\t>\r\n\t\t<Grid item xs={12}>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\tgetResults();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.form}\r\n\t\t\t>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvalue={searchString}\r\n\t\t\t\t\tonChange={e => setSearchString(e.target.value)}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type=\"submit\" className={classes.button}>\r\n\t\t\t\t\t<SearchIcon className={classes.icon} />\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</Grid>\r\n\t\t<Grid item xs={12}>\r\n\t\t\t{!isFetching && !isError ? (\r\n\t\t\t\tsearchResultItems.map(item => (\r\n\t\t\t\t\t<ItemContainer item={item} key={item.title} />\r\n\t\t\t\t))\r\n\t\t\t) : isError ? (\r\n\t\t\t\t<Typography variant=\"h5\">\r\n\t\t\t\t\tUnfortunately, there was an error. Please retry again in a\r\n\t\t\t\t\tfew seconds! :(\r\n\t\t\t\t</Typography>\r\n\t\t\t) : (\r\n\t\t\t\t<Typography variant=\"h5\">Loading...</Typography>\r\n\t\t\t)}\r\n\t\t</Grid>\r\n\t\t{favouritesItems.length > 0 && (\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Favourites favouritesItems={favouritesItems} />\r\n\t\t\t</Grid>\r\n\t\t)}\r\n\t</Grid>\r\n);\r\n\r\nSearch.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tsearchString: PropTypes.string.isRequired,\r\n\tsearchResultItems: PropTypes.array.isRequired,\r\n\tisFetching: PropTypes.bool.isRequired,\r\n\tisError: PropTypes.bool.isRequired,\r\n\tsetSearchString: PropTypes.func.isRequired,\r\n\tgetResults: PropTypes.func.isRequired,\r\n\tfavouritesItems: PropTypes.array.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Search);\r\n","import { connect } from \"react-redux\";\r\nimport Search from \"../components/Search\";\r\nimport {\r\n\tsetSearchString,\r\n\tgetResults,\r\n\tsetSearchResults\r\n} from \"../actions/search\";\r\n\r\nconst mapStateToProps = state => ({\r\n\tsearchString: state.search.searchString,\r\n\tsearchResultItems: state.search.searchResultItems,\r\n\tisFetching: state.search.isFetching,\r\n\tisError: state.search.isError,\r\n\tfavouritesItems: state.favourites.favouritesItems\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tsetSearchString: str => {\r\n\t\tdispatch(setSearchString(str));\r\n\t\tif (str === \"\") dispatch(setSearchResults([]));\r\n\t},\r\n\tgetResults: () => dispatch(getResults())\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Search);\r\n","import React, { Fragment } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Header from \"./Header\";\r\nimport SearchContainer from \"../containers/SearchContainer\";\r\n\r\nconst App = () => (\r\n\t<Fragment>\r\n\t\t<CssBaseline />\r\n\t\t<Header title={\"Toronto Waste Lookup\"} />\r\n\t\t<SearchContainer />\r\n\t</Fragment>\r\n);\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport App from \"./components/App\";\r\n\r\nrender(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}